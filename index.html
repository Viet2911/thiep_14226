<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine c·ªßa Thu Th·ªßy</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@500&display=swap');

        * {
            box-sizing: border-box;
        }

        :root {
            --pink-main: rgb(255, 97, 123);
            --pink-light: #ff85a1;
            --pink-bg: #fff0f3;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: rgb(255, 124, 146);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 2000px;
            font-family: 'Quicksand', sans-serif;
        }

        /* KH√îNG GIAN CH·ªÆ BAY */
        #sky {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1;
            overflow: hidden;
        }

        .floating-wish {
            position: absolute;
            white-space: nowrap;
            font-weight: bold;
            pointer-events: none;
            animation: fly linear forwards;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
            z-index: 1;
        }

        @keyframes fly {
            0% {
                transform: translateY(110vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.9;
            }

            90% {
                opacity: 0.9;
            }

            100% {
                transform: translateY(-20vh) rotate(20deg);
                opacity: 0;
            }
        }

        /* THI·ªÜP 3D */
        .card {
            position: relative;
            width: 300px;
            height: 400px;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.8s ease;
            z-index: 10;
        }

        @media (min-width: 601px) {
            .card.open {
                transform: translateX(150px);
            }
        }

        @media (max-width: 600px) {
            .card {
                width: 280px;
                height: 380px;
            }
        }

        .cover {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-origin: left;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
        }

        .card.open .cover {
            transform: rotateY(-180deg);
        }

        /* Hi·ªáu ·ª©ng bi·∫øn m·∫•t b√¨a khi m·ªü tr√™n Mobile */
        .cover.fade-out {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s;
        }

        .card-page {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 15px;
            backface-visibility: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .front {
            background: linear-gradient(45deg, var(--pink-main), var(--pink-light));
            display: flex;
            justify-content: center;
            align-items: center;
            border: 5px solid white;
            z-index: 2;
        }

        .back-face {
            background-color: #fff;
            transform: rotateY(180deg);
            display: flex;
            justify-content: center;
            align-items: center;
            border: 5px solid white;
            z-index: 1;
        }

        .front-content {
            width: 85%;
            height: 85%;
            background: white;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px dashed var(--pink-main);
        }

        .inside {
            background-color: white;
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 25px;
            border: 5px solid var(--pink-main);
        }

        .inside-content {
            color: var(--pink-main);
            text-align: center;
        }

        .heart-animation {
            font-size: 35px;
            animation: beat 1s infinite;
            display: inline-block;
            margin: 10px;
        }

        @keyframes beat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        .instruction {
            position: absolute;
            bottom: -50px;
            width: 100%;
            text-align: center;
            color: white;
            font-weight: bold;
        }

        .hidden {
            opacity: 0;
        }
    </style>
</head>

<body>
    <div id="sky"></div>

    <div class="card" id="myCard">
        <div class="cover" id="cardCover">
            <div class="card-page front">
                <div class="front-content">
                    <div style="font-size: 50px;">üíù</div>
                    <h1 style="font-family: 'Dancing Script'; color: var(--pink-main);">Valentine's</h1>
                    <p style="color: var(--pink-light);">B·∫•m ƒë·ªÉ m·ªü l·ªùi y√™u</p>
                </div>
            </div>
            <div class="card-page back-face">
                <div style="font-size: 80px; opacity: 0.1;">‚ù§Ô∏è</div>
            </div>
        </div>

        <div class="card-page inside">
            <div class="inside-content">
                <h2 style="font-family: 'Dancing Script'; font-size: 28px;">G·ª≠i Thu Th·ªßy y√™u d·∫•u!</h2>
                <p>Ch√∫c Th·ªßy c·ªßa anh lu√¥n vui v·∫ª, h·∫°nh ph√∫c v√† h√£y lu√¥n gi·ªØ n·ª• c∆∞·ªùi r·∫°ng r·ª° nh√©</p>
                <div class="heart-animation">‚ù§Ô∏è</div>
                <p style="font-weight: bold; font-style: italic;">Anh y√™u em!</p>
            </div>
        </div>
        <div class="instruction">Ch·∫°m v√†o thi·ªáp ƒëi m√†!</div>
    </div>

    <script>
        const myCard = document.getElementById('myCard');
        const cardCover = document.getElementById('cardCover');
        const instruction = document.querySelector('.instruction');

        myCard.onclick = function () {
            if (!this.classList.contains('open')) {
                this.classList.add('open');
                instruction.classList.add('hidden');
                if (window.innerWidth <= 600) {
                    setTimeout(() => { cardCover.classList.add('fade-out'); }, 1000);
                }
            } else {
                this.classList.remove('open');
                cardCover.classList.remove('fade-out');
                instruction.classList.remove('hidden');
            }
        };


        const sky = document.getElementById('sky');
        const wishes = [
            "Ch√∫c Thu Th·ªßy lu√¥n xinh ƒë·∫πp", "M√£i y√™u em", "H·∫°nh ph√∫c", "Ch√∫c Thu Th·ªßy nhi·ªÅu xi·ªÅn", "Ch√∫c ƒë√¥i ta m√£i c√≥ nhau",
            "Love You Forever", "Xinh ƒë·∫πp r·∫°ng ng·ªùi", "Y√™u Thu Th·ªßy nh·∫•t", "M√£i b√™n nhau", "C·ªë l√™n nh√©",
            "Nh·ªõ Thu Th·ªßy r·∫•t nhi·ªÅu", "Em l√† duy nh·∫•t", "Thu Th·ªßy Thu Th·ªßy Thu Th·ªßy Thu Th·ªßy", "N·ª• c∆∞·ªùi t·ªèa n·∫Øng",
            "Happy Valentine", "Sweet Love", "Always Together", "My Only One", "Ng∆∞·ªùi y√™u anh l√† xinh nh·∫•t",
            "C√¥ng vi·ªác thƒÉng ti·∫øn nhen", "Tr·ªçn ƒë·ªùi b√™n nhau", "C√πng nhau gi√† ƒëi", "Everything will be OK",
            "You are my sunshine", "Thu Th·ªßyyyyyyy", "Th√†nh c√¥ng vang d·ªôi", "Y√™u Thu Th·ªßyyyyyyyyyyy"
        ];

        function createWish() {
            const wish = document.createElement('div');
            wish.className = 'floating-wish';
            wish.innerText = wishes[Math.floor(Math.random() * wishes.length)];

            const randomLeft = Math.random() * 80 + 5;
            wish.style.left = randomLeft + "vw";

            // 2. T·ªêC ƒê·ªò: Cho bay ch·∫≠m l·∫°i m·ªôt ch√∫t ƒë·ªÉ nh√¨n r√µ l·ªùi ch√∫c (4s - 9s)
            const duration = Math.random() * 5 + 4;
            wish.style.animationDuration = duration + "s";

            // 3. K√çCH TH∆Ø·ªöC: Tr√™n mobile cho nh·ªè l·∫°i m·ªôt ch√∫t ƒë·ªÉ kh√¥ng b·ªã th√¥
            const baseSize = window.innerWidth <= 600 ? 12 : 14;
            const size = Math.random() * 10 + baseSize;
            wish.style.fontSize = size + "px";

            // 4. M√ÄU S·∫ÆC & ƒê·ªò M·ªú
            const colors = ['#ffffff', '#ffe5ec', '#ffb3c1', '#fb6f92', '#fff4d1'];
            wish.style.color = colors[Math.floor(Math.random() * colors.length)];
            wish.style.opacity = Math.random() * 0.4 + 0.5;

            sky.appendChild(wish);

            setTimeout(() => { wish.remove(); }, duration * 1000);
        }

        // 5. ƒêI·ªÄU CH·ªàNH M·∫¨T ƒê·ªò: 
        // Tr√™n PC: 150ms m·ªôt ch·ªØ (D√†y)
        // Tr√™n Mobile: 300ms m·ªôt ch·ªØ (ƒê·ªÅu, ƒë·∫πp, kh√¥ng r·ªëi)
        const spawnRate = window.innerWidth <= 600 ? 300 : 150;
        setInterval(createWish, spawnRate);
    </script>
</body>

</html>